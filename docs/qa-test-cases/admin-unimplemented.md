# 管理機能 — 未実装機能テストケース

> これらのテストケースは未実装機能（F-111）のリリース時に使用する受け入れテストです。
> 実装完了後、仕様が確定した段階で前提条件・手順・期待結果を具体化してください。

> **注記**: F-109（カバー画像設定）・F-110（本文画像挿入）は PR #178 で実装済みのため、
> [admin-articles.md](./admin-articles.md) の TC-121〜TC-125 に移動しました。

---

## F-111 記事削除

### TC-501 記事削除: 下書き記事の削除

| 項目 | 内容 |
|------|------|
| **機能ID** | F-111 |
| **カテゴリ** | 正常系 |

#### 前提条件

- DBに下書き記事が1件存在する

#### 手順

1. 記事一覧（`/admin`）にアクセスする
2. 下書き記事の削除ボタン（または削除操作のUI）をクリックする
3. 確認ダイアログが表示された場合は確認する

#### 期待結果

- `draft_articles` テーブルから対象レコードが削除される
- 関連するカテゴリ（`draft_article_categories`）も削除される
- 記事一覧が更新され、削除した記事が表示されなくなる

#### 備考

- 現在はDB直接操作でのみ対応（仕様書 02-features.md F-111）

---

### TC-502 記事削除: 公開記事の削除

| 項目 | 内容 |
|------|------|
| **機能ID** | F-111 |
| **カテゴリ** | 正常系 |

#### 前提条件

- DBに公開記事が1件存在する

#### 手順

1. 記事一覧（`/admin`）にアクセスする
2. 公開記事の削除ボタン（または削除操作のUI）をクリックする
3. 確認ダイアログが表示された場合は確認する

#### 期待結果

- `published_articles` テーブルから対象レコードが削除される
- 関連するカテゴリ（`published_article_categories`）も削除される
- 記事一覧が更新され、削除した記事が表示されなくなる
- `features=local` 時のトップページで、削除した記事が表示されなくなる

---

### TC-503 記事削除: 削除後に記事一覧から消える

| 項目 | 内容 |
|------|------|
| **機能ID** | F-111 |
| **カテゴリ** | 正常系 |

#### 前提条件

- DBに記事（下書きまたは公開）が2件以上存在する

#### 手順

1. 記事一覧（`/admin`）にアクセスし、記事の件数を確認する
2. 任意の記事を削除する
3. 記事一覧を再確認する

#### 期待結果

- 記事一覧の件数が1件減っている
- 削除した記事のタイトルが一覧に存在しない
- 他の記事は影響を受けず表示されている

---

### TC-504 記事削除: 存在しない記事IDで削除を試みる

| 項目 | 内容 |
|------|------|
| **機能ID** | F-111 |
| **カテゴリ** | 異常系 |

#### 前提条件

- サーバーが起動している

#### 手順

1. 存在しない記事IDで削除APIを直接呼び出す（開発者ツール等から）

#### 期待結果

- 404エラーまたは適切なエラーメッセージが返される
- DBに影響がない
